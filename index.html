<!doctype html>
<html>
  <head>
    <title>BHS Chat</title>
    <!-- Credits to the folks at Socket.io for the Socket.io service, and some of the code. This was made for some of my friends to talk to eachother. -->
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body {
  margin:0;
  padding:0;
  overflow:hidden;
}
input:focus,
select:focus,
textarea:focus,
button:focus {
    outline: none;
}
#header {
  background-color:#212121;
  height: 100px;
  width: 100%;
  box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);
  overflow:hidden;
}
#body {
  background-color:#ffffff;
  height: 800px;
  width: 100%;
  box-shadow: inset 0px 3px 5px 0px rgba(0,0,0,0.75);
}
#contactbar {
  height:50px;
  width:100%;
  background-color:#2d2d2d;
  box-shadow: inset 0px 3px 5px 0px rgba(0,0,0,0.75);
  position:absolute;
  top:50px;
  margin:0;
  padding:0;
}
#name {
  font-family: "Quicksand", "Sans-Serif";
  margin: 0;
  padding: 0;
  font-size:45px;
  position: absolute;
  top:-1px;
  color: #ffffff;
}
#sendbar {
  position:absolute;
  bottom:0;
  height: 50px;
  width:100%;
  background-color: #2d2d2d;
}
#inputbg {
  position:absolute;
  bottom: 12.5px;
  right: 10%;
  border: none;
  height:25px;
  width: 80%;
  box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);
  border-radius: 25px;
  background-color: #ffffff;
}
#input {
  position:absolute;
  bottom: -1px;
  left: 2.5%;
  border: none;
  height:25px;
  width: 95%;
  border-radius: 25px;
  background-color: transparent;
  font-family: "Quicksand", "Sans-Serif";
  color: black;
  font-size: 20px;
}
#send {
  border-radius: 25px;
  border:none;
  background-color: #ffffff;
  box-shadow: 0px 10px 10px -2px rgba(0,0,0,0.75);
  width: 50px;
}
.message {
  overflow: hidden;
  background-color: #474747;
  width: 100%;
  min-height: 50px;
  height: auto;
  font-family:"Quicksand", "Sans-Serif";
  border: 1px solid gray;
  box-shadow: inset 0px 10px 10px -2px rgba(0,0,0,0.75);
}
.username {
  position: relative;
  top: 0;
  left: 5px;
  margin: 0;
  padding: 0;
  color: gray;
}
.timesent {
  text-align:right;
  position: relative;
  top: -17px;
  right: 5px;
  font-size: 10px;
  color: gray;
  margin: 0;
  padding: 0;
}
.messagetext {
  margin: 0;
  padding:0;
  position: relative;
  top: -3px;
  color: white;
  width: 100%;
  word-wrap: break-word;
}
#wip {
  color:white;
}
    </style>
    <link href="https://fonts.googleapis.com/css?family=Quicksand|Roboto" rel="stylesheet">
  </head>
  <body>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      $(function () {
        var socket = io();
        $(document).ready(function(){
          enteredusnm = window.prompt("What is your username?","anonymous");
          if (enteredusnm == undefined || enteredusnm == "" || enteredusnm == null){
            enteredusnm = window.prompt("Enter something this time","anonymous");
            if (enteredusnm == undefined || enteredusnm == "" || enteredusnm == null){
              window.location = "https://www.google.com/search?q=how+to+not+be+an+idiot&ie=utf-8&oe=utf-8";
            }
          }
          var msgheight = $(window).height() - 150;
          $("#messages").attr('style',' overflow: scroll; width: 100%; height: ' + msgheight.toString() +'px;');
        });
        $('#input').keypress(function(e){
        if(e.keyCode==13)
          $('#send').click();
        });
        $("#send").click(function(){
          socket.emit('username', enteredusnm);
          socket.emit('chat message', $('#input').val());
          $('#input').val('');
          return false;
        });
        socket.on('username', function(usnm){
          receivedusnm = usnm;
        });
        socket.on('chat message', function(msg){
          $('#messages').append("<div class=\"message\"><p class=\"username\">" + receivedusnm + "</p><p class=\"messagetext\">" + msg + "</p></div>");
        });
      });
    </script>
    <div id="header">
      <p id="name">Bangor High School Chat 1.0.0</p>
      <div id="contactbar">
        <p id="wip">Multiple chat rooms soon! Be on the lookout within the next few weeks!</p>
      </div>
    </div>
    <div id="body">
      <div id="messages" style=" overflow: scroll; width: 100%; height: 423px;">
        
      </div>
      <div id="sendbar">
        <div id="inputbg">
          <input id="input">
        </div>
        <button id="send" style="position: absolute; right: 2%; bottom: 17px;">Send</button>
      </div>
    </div>
  </body>
</html>
